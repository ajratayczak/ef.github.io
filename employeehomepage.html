<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Employee Home Page</title>
    <link rel="stylesheet" href="./style.css">
    <script src="time.js"></script>
  </head>

  <body>
    <header class="header">
      <img src="ernessifarmslogocropped.gif" alt="Ernessi Farms Logo" width="294" height="50" style="vertical-align:middle;margin:25px 25px">
      <div id="title"><h1 id="farmos">FarmOS</h1></div>
      <div id="about">
        <h3 id="user">EMPLOYEE</h3>
        <button id="log-out" onclick="logout()"></button><br>
        <span id="time"> </span>
      </div>
    </header>

    <div id="emp-home">
      <div class="tasks" id="emp-assigned">
        <div class="big-label">
          <h2>ASSIGNED TASKS</h2>
        </div>
        <div id="emp-task-list-box">
          <div class="label">
            <h4>Placeholder</h4>
          </div>
          <div class="label">
            <h4>Placeholder</h4>
          </div>
          <div class="label" id="holder-1" onclick="select('tk1', 'holder-1')">
            <h4 id="tk1">Task 1</h4>
          </div>
          <div class="label" id="holder-2" onclick="select('tk2', 'holder-2')">
            <h4 id="tk2">Task 2</h4>
          </div>
          <div class="label" id="holder-3" onclick="select('tk3', 'holder-3')">
            <h4 id="tk3">Task 3</h4>
          </div>
          <div class="label" id="holder-4" onclick="select('tk4', 'holder-4')">
            <h4 id="tk4">Task 4</h4>
          </div>
          <div class="label" id="holder-5" onclick="select('tk5', 'holder-5')">
            <h4 id="tk5">Task 5</h4>
          </div>
          <div class="label" id="holder-6" onclick="select('tk6', 'holder-6')">
            <h4 id="tk6">Task 6</h4>
          </div>
          <div class="label" id="holder-7" onclick="select('tk7', 'holder-7')">
            <h4 id="tk7">Task 7</h4>
          </div>
          <div class="label" id="holder-8" onclick="select('tk8', 'holder-8')">
            <h4 id="tk8">Task 8</h4>
          </div>
        </div>
      </div>

      <div class="tasks" id="emp-other">
        <div class="big-label">
          <h2>TASKS & LOGS</h2>
        </div>
        <div id="emp-task-grid-box">
          <div class="grid-label">
            <h4>Task 1</h4>
          </div>
          <div class="grid-label">
            <h4>Task 2</h4>
          </div>
          <div class="grid-label">
            <h4>Task 3</h4>
          </div>
          <div class="grid-label">
            <h4>Task 4</h4>
          </div>
          <div class="grid-label">
            <h4>Task 5</h4>
          </div>
          <div class="grid-label">
            <h4>Task 6</h4>
          </div>
          <div class="grid-label">
            <h4>Task 7</h4>
          </div>
          <div class="grid-label">
            <h4>Task 8</h4>
          </div>
          <div class="grid-label">
            <h4>Task 9</h4>
          </div>
          <div class="grid-label">
            <h4>Task 10</h4>
          </div>
          <div class="grid-label">
            <h4>Task 11</h4>
          </div>
          <div class="grid-label">
            <h4>Task 12</h4>
          </div>
          <div class="grid-label">
            <h4>Task 13</h4>
          </div>
          <div class="grid-label">
            <h4>Task 14</h4>
          </div>
        </div>
      </div>
    </div>

    <div id="task-selected">
        <div class="big-label" id="selected">
            <h2 id="fill-me">FILL ME</h2>
        </div>
        <h4 id="est-time">EST. COMPLETION: 1:45</h4>
        <div id="log">
            <h3>TASK LOG</h3>
        </div>
        <div id="report" onclick="report('report')">
            <h3>REPORT</h3>
        </div>
        <div id="save" onclick="save('save')">
            <h3>SAVE PROGRESS</h3>
        </div>
        <div id="complete" onclick="complete('complete')">
            <h3>COMPLETE</h3>
        </div>
    </div>

    <div id="completed-pop-up">
        <div class="q">
            <h2 id="complete-message">TASK IS COMPLETE?</h2>
        </div>
        <div class="yn">YES</div>
        <div class="yn" onclick="close_me('completed-pop-up', 'complete')">NO</div>
    </div>

    <div id="save-pop-up">
        <div class="q">
            <h2 id="save-message">DO YOU WANT TO SAVE YOUR PROGRESS IN TASK?</h2>
        </div>
        <div class="yn">YES</div>
        <div class="yn" onclick="close_me('save-pop-up', 'save')">NO</div>
    </div>

    <div id="report-pop-up">
        <div class="q" id="report-message-box">
            <h2 id="report-message">REPORT AN ISSUE WITH: TASK</h2>
        </div>
        <div id="issue-input">
            <form action="/action-page.php">
                <label for="issue">ISSUE:</label>
                <input type="text" id="issue" name="issue">
            </form>
        </div>
        <h2>CAN THE TASK STILL BE COMPLETED?</h2>
        <div id="yesno">
            <div class="yn">YES</div>
            <div class="yn">NO</div>
        </div>
        <h2>UPLOAD A PHOTO</h2>
        <div class="yn" id="upload">UPLOAD</div>
        <div id="cansub">
            <div class="yn" id="cancel" onclick="close_me('report-pop-up', 'report')">CANCEL</div>
            <div class="yn" id="submit">SUBMIT</div>
        </div>
    </div>

  </body>

  <script>
    function logout() {
      window.location.replace("./login.html");
    }

    function select(id, id2) {
        var box = document.getElementById("task-selected");
        box.style.display = "flex";
        box.style.flexDirection = "column";
        box.style.justifyContent = "center";
        var filler = document.getElementById("fill-me");
        filler.innerHTML = document.getElementById(id).innerHTML;
        for (let i=1; i<=8; i++) {
            var holder =  "holder-" + i;
            if (holder != id2) {
                document.getElementById(holder).style.backgroundColor = "#F7F8F3";
            }
            else {
                document.getElementById(id2).style.backgroundColor = "#8ACCEE";
            }
        }
    }

    function complete(id) {
        var button = document.getElementById(id);
        button.style.backgroundColor = "#7BC143";
        var task = document.getElementById("fill-me").innerHTML;
        document.getElementById("complete-message").innerHTML = task + " IS COMPLETE?";
        var popup = document.getElementById("completed-pop-up");
        popup.style.display = "flex";
    }

    function save(id) {
        var button = document.getElementById(id);
        button.style.backgroundColor = "#7BC143";
        var task = document.getElementById("fill-me").innerHTML;
        document.getElementById("save-message").innerHTML = "DO YOU WANT TO SAVE YOUR PROGRESS IN " + task + "?";
        var popup = document.getElementById("save-pop-up");
        popup.style.display = "flex";
    }

    function report(id) {
        var button = document.getElementById(id);
        button.style.backgroundColor = "#7BC143";
        var task = document.getElementById("fill-me").innerHTML;
        document.getElementById("report-message").innerHTML = "REPORT ISSUE WITH: " + task;
        var popup = document.getElementById("report-pop-up");
        popup.style.display = "flex";
    }

    function close_me(id, id2) {
        var toclose = document.getElementById(id);
        toclose.style.display = "none";
        console.log("I am working");
        var button = document.getElementById(id2);
        button.style.backgroundColor = "#F7F8F3";
    }
  </script>
</html>
